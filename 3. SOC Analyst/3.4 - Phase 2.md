## Phase 2: Installing Sysmon & LimaCharlie for Visibility

Sysmon (System Monitor) is a powerful Windows system monitoring tool developed by Microsoft that provides detailed insight into system activity. Itâ€™s primarily used for security monitoring, threat detection, and incident response.

> [!NOTE]
> A SOC Analyst may use Sysmon logs to detect if an attacker used PowerShell to download a payload, by searching for suspicious command-line arguments in process creation logs.

### A) Downloading and configuring **"Sysmon"**:

1. First, launch an **Administrative** PowerShell console.

2. Type **"powershell"** into the search bar within the Start Menu.

3. Right Click **"Windows Powershell"** and click **"Run as administrator"**.

4. Run the following command to download **Sysmon** and save the file to **C:\Windows\Temp**:

````
Invoke-WebRequest -Uri https://download.sysinternals.com/files/Sysmon.zip -OutFile C:\Windows\Temp\Sysmon.zip
````

5. Unzip the **Sysmon.zip** using the following command:

````
Expand-Archive -LiteralPath C:\Winodws\Temp\Sysmon.zip -DestinationPath C:\Windows\Temp\Sysmon
````

6. Download **SwiftOnSecurity**'s Sysmon configuration (a Microsoft Sysinternals Sysmon configuration file template with default high-quality event tracing):

````
Invoke-WebRequest -Uri https://raw.githubusercontent.com/SwiftOnSecurity/sysmon-config/master/sysmonconfig-export.xml -OutFile C:\Windows\Temp\Sysmon\sysmonconfig.xml
````

7. Install Sysmon with **SwiftOnSecurity**'s configuration with the following commands:

````
C:\Windows\Temp\Sysmon\Sysmon64.exe -accepteula -i
````
````
C:\Windows\Temp\Sysmon\sysmonconfig.xml
````
![image](https://github.com/user-attachments/assets/3cf23d9d-9f3e-4011-8e19-df5b7bf6c76f)


8. Validate Sysmon64 service has installed successfully and running:

````
Get-Service sysmon64
````

